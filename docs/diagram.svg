<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="767" height="640" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[Note over kubecsr: Generate:\n* Private Key\n* CSR
kubecsr->KubeApiserver: Submit csr
Note over KubeApiserver: Pending
kubecsr->KubeApiserver: Approve csr
Note over KubeApiserver: Approved
KubeControllerManager-->KubeApiserver: Issue certificate
Note over KubeApiserver: Approved,Issued
kubecsr->KubeApiserver: Fetch certificate
Note left of kubecsr: The csr is annotate as\n*Fetched* if not deleted
kubecsr->KubeApiserver: Delete csr]]></source><desc></desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker></defs><g class="title"></g><g class="actor"><path d="M215.5859375,20C229.7,23.5 236.7,16.5 303.7,20.0C302.0,30.1 305.4,50.3 303.7,62.3C246.7,58.8 284.4,65.8 215.6,62.3C213.9,35.8 217.3,40.0 215.6,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="226.1484375" y="46" style="font-size: 16px; font-family: danielbd;"><tspan x="225.5859375">kubecsr</tspan></text></g><g class="actor"><path d="M215.5859375,577.828125C241.5,574.3 267.2,581.4 303.7,577.8C302.0,584.6 305.4,588.0 303.7,620.1C265.3,623.6 229.7,616.6 215.6,620.1C217.3,584.6 213.9,612.7 215.6,577.8" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="226.1484375" y="603.828125" style="font-size: 16px; font-family: danielbd;"><tspan x="225.5859375">kubecsr</tspan></text></g><path d="M259.6,62.3C239.0,261.4 280.3,187.0 259.6,577.8" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M350.6875,20C385.4,25.8 373.9,14.2 495.5,20.0C497.2,46.6 493.8,26.8 495.5,62.3C464.8,56.5 375.1,68.1 350.7,62.3C349.0,46.3 352.4,52.1 350.7,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="361.25" y="44.2734375" style="font-size: 16px; font-family: danielbd;"><tspan x="360.6875">KubeApiserver</tspan></text></g><g class="actor"><path d="M350.6875,577.828125C449.3,583.6 460.7,572.0 495.5,577.8C493.8,613.3 497.2,610.0 495.5,620.1C460.7,625.9 472.3,614.3 350.7,620.1C349.0,610.0 352.4,588.0 350.7,577.8" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="361.25" y="602.1015625" style="font-size: 16px; font-family: danielbd;"><tspan x="360.6875">KubeApiserver</tspan></text></g><path d="M423.1,62.3C443.7,200.1 402.5,186.0 423.1,577.8" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M515.46875,20C683.9,28.9 701.6,11.1 737.1,20.0C738.8,55.5 735.4,26.8 737.1,62.3C550.9,53.4 660.9,71.1 515.5,62.3C513.8,30.1 517.2,52.1 515.5,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="526.03125" y="43.703125" style="font-size: 16px; font-family: danielbd;"><tspan x="525.46875">KubeControllerManager</tspan></text></g><g class="actor"><path d="M515.46875,577.828125C568.7,569.0 677.7,586.7 737.1,577.8C735.4,609.4 738.8,584.6 737.1,620.1C679.1,629.0 661.8,611.2 515.5,620.1C517.2,601.9 513.8,596.3 515.5,577.8" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="526.03125" y="601.53125" style="font-size: 16px; font-family: danielbd;"><tspan x="525.46875">KubeControllerManager</tspan></text></g><path d="M626.3,62.3C646.9,332.1 605.6,144.8 626.3,577.8" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="note"><path d="M197.203125,82.28125C223.4,77.3 302.1,87.3 322.1,82.3C319.5,96.4 324.7,118.8 322.1,147.3C227.2,142.3 292.1,152.2 197.2,147.3C194.6,118.0 199.8,112.0 197.2,82.3" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="202.765625" y="100.421875" style="font-size: 16px; font-family: danielbd;"><tspan x="202.203125">Generate:</tspan><tspan dy="1.2em" x="202.203125">* Private Key</tspan><tspan dy="1.2em" x="202.203125">* CSR</tspan></text></g><g class="signal"><text x="293.9921875" y="177.109375" style="font-size: 16px; font-family: danielbd;"><tspan x="292.8515625">Submit csr</tspan></text><path d="M259.6,183.8C386.5,177.3 383.9,190.3 423.1,183.8" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="note"><path d="M387.5859375,203.8125C425.6,201.0 404.6,206.7 458.6,203.8C459.9,228.3 457.3,218.2 458.6,236.1C424.1,233.3 428.1,238.9 387.6,236.1C386.3,230.0 388.9,222.4 387.6,203.8" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="393.1484375" y="222.515625" style="font-size: 16px; font-family: danielbd;"><tspan x="392.5859375">Pending</tspan></text></g><g class="signal"><text x="286.9765625" y="264.2265625" style="font-size: 16px; font-family: danielbd;"><tspan x="286.4140625">Approve csr</tspan></text><path d="M259.6,277.2C312.5,283.8 383.9,270.7 423.1,277.2" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="note"><path d="M375.328125,297.234375C455.5,301.1 430.1,293.4 470.8,297.2C472.1,314.2 469.6,317.5 470.8,328.4C447.9,324.6 413.2,332.2 375.3,328.4C374.1,319.6 376.6,302.2 375.3,297.2" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="380.890625" y="315.9375" style="font-size: 16px; font-family: danielbd;"><tspan x="380.328125">Approved</tspan></text></g><g class="signal"><text x="457.5" y="358.234375" style="font-size: 16px; font-family: danielbd;"><tspan x="456.9375">Issue certificate</tspan></text><path d="M626.3,364.9C471.8,373.1 548.3,356.8 423.1,364.9" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="note"><path d="M347.6953125,384.9375C474.3,391.0 417.9,378.9 498.5,384.9C499.7,389.9 497.2,397.5 498.5,416.1C455.9,422.1 413.0,410.0 347.7,416.1C346.4,393.7 348.9,404.4 347.7,384.9" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="353.2578125" y="403.640625" style="font-size: 16px; font-family: danielbd;"><tspan x="352.6953125">Approved,Issued</tspan></text></g><g class="signal"><text x="270.203125" y="446.5078125" style="font-size: 16px; font-family: danielbd;"><tspan x="269.640625">Fetch certificate</tspan></text><path d="M259.6,453.8C383.9,447.2 396.9,460.3 423.1,453.8" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="note"><path d="M20,473.78125C186.9,465.0 157.9,482.6 239.6,473.8C241.5,509.4 237.8,492.5 239.6,520.7C140.2,511.9 56.1,529.5 20.0,520.7C18.1,496.8 21.9,485.0 20.0,473.8" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="25.5625" y="493.0625" style="font-size: 16px; font-family: danielbd;"><tspan x="25">The csr is annotate as</tspan><tspan dy="1.2em" x="25">*Fetched* if not deleted</tspan></text></g><g class="signal"><text x="296.1640625" y="550.8203125" style="font-size: 16px; font-family: danielbd;"><tspan x="295.6015625">Delete csr</tspan></text><path d="M259.6,557.8C383.9,564.4 345.6,551.3 423.1,557.8" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g></svg>